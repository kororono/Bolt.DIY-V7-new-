/* ==========================================
   HOMEPAGE 3D CAROUSEL
   
   SECTIONS:
   1. Variables - Adjust sizes, spacing, colors
   2. Container Layout - Wrapper and deck setup
   3. Card Base Styles - Default card appearance
   4. Card Positions - Active, sides, hidden states
   5. Navigation Buttons - Prev/Next arrows
   6. Responsive - Mobile adjustments
   ========================================== */

/* ========================================
   1. VARIABLES
   Adjust card sizes and spacing here
   ======================================== */
:root {
    --carousel-card-width: 400px;
    --carousel-card-height: 280px;
    --carousel-gap: 280px;        /* Space between cards */
    --carousel-depth: 120px;       /* 3D depth offset */
    --carousel-rotate: 25deg;      /* Card rotation angle */
}

/* ========================================
   2. CONTAINER LAYOUT
   Wide container to prevent clipping
   ======================================== */
#featured-work {
    padding: 120px 20px 80px;     /* Extra top padding for nav clearance */
    max-width: 95%;
    margin: 0 auto;
}

#featured-work h1 {
    text-align: center;
    margin-bottom: 60px;
}

/* Carousel wrapper - establishes 3D perspective */
.carousel-wrapper {
    position: relative;
    width: 100%;
    height: calc(var(--carousel-card-height) + 100px);  /* Extra space for card overflow */
    perspective: 1500px;                                /* 3D depth perception */
    margin-bottom: 60px;
    overflow: visible;                                  /* CRITICAL: Allows side cards to be clickable */
}

/* Card deck - holds all cards in 3D space */
.carousel-deck {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;                       /* Enable 3D transforms on children */
    transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
}

/* ========================================
   3. CARD BASE STYLES
   Default appearance for all cards
   ======================================== */
.carousel-card {
    position: absolute;
    top: 50%;
    left: 50%;
    width: var(--carousel-card-width);
    height: var(--carousel-card-height);
    transform: translate(-50%, -50%);                   /* Center cards initially */
    border-radius: 15px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.6s cubic-bezier(0.25, 1, 0.5, 1);
    pointer-events: auto;                               /* CRITICAL: Ensure all cards are clickable */
    backface-visibility: hidden;                        /* Smooth rendering */
}

/* Card image container */
.carousel-card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform 0.4s ease;
}

/* Card overlay - darkens on hover */
.carousel-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 50%);
    opacity: 0;
    transition: opacity 0.3s ease;
}

/* Card title - appears on hover */
.carousel-title {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 25px 20px;
    font-family: 'Boska', serif;
    font-size: 1.5rem;
    font-weight: 900;
    color: var(--foreground);
    text-align: left;
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.4s ease;
}

/* Hover effects */
.carousel-card:hover .carousel-overlay {
    opacity: 1;
}

.carousel-card:hover .carousel-title {
    opacity: 1;
    transform: translateY(0);
}

/* ========================================
   4. CARD POSITIONS
   Active center card and side cards
   ======================================== */

/* Active center card - fully visible, front and center */
.carousel-card.active {
    z-index: 10;                                        /* Front layer */
    opacity: 1;
    transform: translate(-50%, -50%) translateZ(0) rotateY(0) scale(1);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.carousel-card.active:hover {
    transform: translate(-50%, -50%) translateZ(0) rotateY(0) scale(1.03);
}

/* Left side cards - progressively offset and rotated */
.carousel-card.left-1 {
    z-index: 8;
    opacity: 0.85;
    transform: translate(-50%, -50%) translateX(calc(-1 * var(--carousel-gap))) 
               translateZ(calc(-1 * var(--carousel-depth))) 
               rotateY(var(--carousel-rotate)) scale(0.9);
}

.carousel-card.left-2 {
    z-index: 6;
    opacity: 0.6;
    transform: translate(-50%, -50%) translateX(calc(-2 * var(--carousel-gap))) 
               translateZ(calc(-2 * var(--carousel-depth))) 
               rotateY(calc(var(--carousel-rotate) * 1.2)) scale(0.8);
}

/* Right side cards - mirror of left cards */
.carousel-card.right-1 {
    z-index: 8;
    opacity: 0.85;
    transform: translate(-50%, -50%) translateX(var(--carousel-gap)) 
               translateZ(calc(-1 * var(--carousel-depth))) 
               rotateY(calc(-1 * var(--carousel-rotate))) scale(0.9);
}

.carousel-card.right-2 {
    z-index: 6;
    opacity: 0.6;
    transform: translate(-50%, -50%) translateX(calc(2 * var(--carousel-gap))) 
               translateZ(calc(-2 * var(--carousel-depth))) 
               rotateY(calc(-1 * var(--carousel-rotate) * 1.2)) scale(0.8);
}

/* Hidden cards - for infinite loop, positioned off-screen */
.carousel-card.hidden {
    opacity: 0;
    pointer-events: none;                               /* Don't interfere with clicks */
    transform: translate(-50%, -50%) translateX(calc(3 * var(--carousel-gap))) 
               translateZ(calc(-3 * var(--carousel-depth))) scale(0.5);
}

/* Side card hover - slight scale up */
.carousel-card.left-1:hover,
.carousel-card.left-2:hover,
.carousel-card.right-1:hover,
.carousel-card.right-2:hover {
    opacity: 1;
    transform: translate(-50%, -50%) translateX(calc(var(--carousel-gap) * var(--side-multiplier))) 
               translateZ(calc(-1 * var(--carousel-depth))) 
               rotateY(var(--side-rotate)) scale(0.95);
}

/* ========================================
   5. NAVIGATION BUTTONS
   Prev/Next arrow controls
   ======================================== */
.carousel-nav {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 40px;
}

.carousel-arrow {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: 1px solid var(--border);
    background-color: transparent;
    color: var(--foreground);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.carousel-arrow svg {
    width: 16px;
    height: 16px;
}

.carousel-arrow:hover {
    background-color: var(--accent);
    border-color: var(--accent);
    transform: scale(1.1);
}

/* ========================================
   6. RESPONSIVE
   Mobile and tablet adjustments
   ======================================== */
@media (max-width: 1200px) {
    :root {
        --carousel-gap: 220px;
        --carousel-depth: 100px;
    }
}

@media (max-width: 768px) {
    :root {
        --carousel-card-width: 320px;
        --carousel-card-height: 220px;
        --carousel-gap: 140px;
        --carousel-depth: 80px;
        --carousel-rotate: 20deg;
    }
    
    #featured-work {
        padding: 100px 20px 60px;
    }
    
    .carousel-wrapper {
        height: calc(var(--carousel-card-height) + 60px);
    }
}

@media (max-width: 480px) {
    :root {
        --carousel-card-width: 280px;
        --carousel-card-height: 200px;
        --carousel-gap: 100px;
        --carousel-depth: 60px;
    }
    
    /* Hide far side cards on mobile for simplicity */
    .carousel-card.left-2,
    .carousel-card.right-2 {
        opacity: 0;
        pointer-events: none;
    }
}
/* ==========================================
   HOMEPAGE VIDEO BACKGROUND
   Simple, reliable video background
   ========================================== */

.homepage-video-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    overflow: hidden;
}

.homepage-video-background video {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.homepage-video-background .video-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
   backdrop-filter: blur(10px);          /* <-- This creates the blur */
  -webkit-backdrop-filter: blur(10px);  /* For Safari support */
  pointer-events: none;                 /* So it doesnâ€™t block clicks */
}
