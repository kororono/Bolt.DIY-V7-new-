<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nairoreel Productions — Visual Storytelling Studio</title>
    <meta name="description" content="We are Nairoreel Productions — a creative studio crafting captivating visuals through 3D, cinematography, and motion storytelling.">
    <meta name="theme-color" content="#0a0a0a">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/homepage-featured.css">

    <style>
        * {
            /* Apply box-sizing to all elements for consistency */
            box-sizing: border-box;
        }
        
        /* Preloader root variables */
        :root {
            --hue: 223;
            --hue2: 345;  /* Red for 'on' */
            --bg: #0a0a0a;
            --fg: hsl(var(--hue),10%,90%);
            --switch-bg: hsl(var(--hue), 5%, 15%); /* Darker switch body */
            --switch-bg-light: hsl(var(--hue), 5%, 25%);
            --switch-bg-dark: hsl(var(--hue), 5%, 10%);
            --trans-dur: 0.3s;
            --trans-timing: cubic-bezier(0.83,0,0.17,1);
            /* Base font size for preloader */
            font-size: calc(16px + (24 - 16) * (100vw - 320px) / (2560 - 320));
        }
        
        /* Preloader-specific body styles (overridden by your main CSS later) */
        .preloader-screen body,
        .preloader-screen input {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.5;
        }
        
        /* NOTE: The background-color for the body is now set inline in the <body> tag to prevent white flash. */
        .preloader-screen body {
            background-color: var(--bg);
            color: var(--fg);
            display: flex;
            height: 100vh;
            transition:
                background-color var(--trans-dur) var(--trans-timing),
                color var(--trans-dur) var(--trans-timing);
            position: relative;
            overflow: hidden;
        }

        /* Preloader Screen */
        .preloader-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center; /* Center content vertically */
            background: #0a0a0a;
            z-index: 1000;
            transition: opacity 1s ease-out, transform 1s ease-out;
            padding: 2rem;
        }

        .preloader-screen.hidden {
            opacity: 0;
            transform: scale(1.1);
            pointer-events: none;
        }

        /* Preloader Header (Logo) */
        .preloader-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem; /* Space between header and switch */
            opacity: 0;
            animation: fadeIn 1s ease-out 0.5s forwards;
            width: 100%; /* Ensure it takes full width for centering */
        }

        /* NEW STYLE FOR THE IMAGE LOGO */
        .preloader-logo-img {
            width: auto; /* Let height control */
            height: 150px; /* You can adjust this height */
            max-width: 200px; /* Prevent it from being too wide */
            object-fit: contain;
        }

        /* Power Text - ENSURED ANIMATION PROPERTIES ARE CORRECT */
        .power-text {
            font-size: 0.9rem;
            letter-spacing: 0.2em;
            color: #666;
            text-transform: uppercase;
            opacity: 0;
            /* Animation from prototype: fadeInPulse 2s ease-out 1s forwards */
            animation: fadeInPulse 2s ease-out 1s forwards; /* Corrected to match prototype */
            margin-top: 3rem; /* Space below switch */
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        @keyframes fadeInPulse {
            0% { opacity: 0; }
            50% { opacity: 0.5; }
            100% { opacity: 0.3; }
        }
        
        /* Switch Styles (Unchanged) */
        .switch,
        .switch__input {
            -webkit-tap-highlight-color: transparent;
        }
        
        .switch {
    /* *** ADDED FOR FADE-IN ANIMATION *** */
    opacity: 0; 
    /* The switch should fade in after the logo, but before the "Illuminate..." text. */
    /* fadeInPulse starts at 1s, so let's start the switch at 0.75s */
    animation: fadeIn 1s ease-out 0.75s forwards; 

    /* Changed to darker color */
    background-color: var(--switch-bg);
            border-radius: 0.375em;
            box-shadow:
                0 4.375em 2em var(--switch-bg-dark) inset,
                0 0.125em 0 var(--switch-bg-light) inset,
                0 0 0.375em hsla(var(--hue),10%,5%,0.5);
            margin: 0; /* Removed margin: auto */
            position: relative;
            transition:
        background-color var(--trans-dur) var(--trans-timing),
        box-shadow var(--trans-dur) var(--trans-timing);
            width: 3.75em;
            height: 8.75em;
        }
        
        .switch__input,
        .switch__lever,
        .switch__lever-half-top,
        .switch__lever-half-bottom,
        .switch__lever-shadow,
        .switch__lever-shadow:before,
        .switch__lever-shadow:after {
            display: block;
        }
        
        .switch__input,
        .switch__label,
        .switch__lever-half-top,
        .switch__lever-half-bottom,
        .switch__lever-shadow,
        .switch__lever-shadow:before,
        .switch__lever-shadow:after {
            position: absolute;
        }
        
        .switch__input {
            cursor: pointer;
            width: 100%;
            height: 100%;
            -webkit-appearance: none;
            appearance: none;
            margin: 0; /* Explicitly remove margin */
            padding: 0; /* Explicitly remove padding */
            border: 0; /* Explicitly remove border */
        }
        
        .switch__label {
            overflow: hidden;
            width: 1px;
            height: 1px;
        }
        
        .switch__lever,
        .switch__lever-shadow {
            pointer-events: none;
        }
        
        .switch__lever {
            /* Adjusted lever color */
            background-color: var(--switch-bg);
            border-radius: 0.25em;
            box-shadow:
                0 0 0.25em var(--switch-bg-dark) inset,
                0.75em 0 0.5em var(--switch-bg-light) inset;
            margin: 0.375em;
            position: relative;
            transition:
                background-color var(--trans-dur) var(--trans-timing),
                box-shadow var(--trans-dur) var(--trans-timing);
            width: calc(100% - 0.75em);
            height: calc(100% - 0.75em);
        }
        
        .switch__lever:before {
            background-image: linear-gradient(hsla(var(--hue),10%,5%,0),hsla(var(--hue),10%,5%,0.2));
            border-radius: inherit;
            content: "";
            display: block;
            width: 100%;
            height: 100%;
        }
        
        .switch__lever-half-top,
        .switch__lever-half-bottom {
            display: flex;
            justify-content: center;
            left: 0.125em;
            padding: 0.5em;
            width: calc(100% - 0.25em);
            height: calc(50% - 0.125em);
            transition:
                background-color var(--trans-dur) var(--trans-timing),
                transform var(--trans-dur) var(--trans-timing);
        }
        
        .switch__lever-half-top {
            background-color: var(--switch-bg-light); /* Adjusted */
            border-radius: 0.25em 0.25em 0 0;
            bottom: 50%;
            transform-origin: 50% 100%;
        }
        
        .switch__lever-half-top:before,
        .switch__lever-half-bottom:before {
            content: "";
            display: block;
            transition:
                background-color var(--trans-dur) var(--trans-timing),
                box-shadow var(--trans-dur) var(--trans-timing);
        }
        
        .switch__lever-half-top:before {
            border-radius: 50%;
            box-shadow:
                0 0 0 0.125em var(--switch-bg) inset,     /* Adjusted */
                0 0.25em 0 var(--switch-bg-light) inset, /* Adjusted */
                0 0.125em 0 var(--switch-bg-light);      /* Adjusted */
            width: 1em;
            height: 1em;
        }
        
        .switch__lever-half-bottom {
            background-color: hsl(var(--hue), 5%, 28%); /* Adjusted */
            border-radius: 0 0 0.25em 0.25em;
            align-items: flex-end;
            top: 50%;
            transform: rotateX(-35deg);
            transform-origin: 50% 0;
        }
        
        .switch__lever-half-bottom:before {
            background-color: hsl(var(--hue2),10%,25%);
            box-shadow:
                0 0.125em 0 hsl(var(--hue2),10%,20%) inset,
                0 -0.0625em 0 var(--switch-bg-light) inset, /* Adjusted */
                0 0 0.5em hsla(var(--hue2),90%,45%,0);
            width: 0.25em;
            height: 1.125em;
        }
        
        .switch__lever-shadow {
            border-radius: 0.25em;
            overflow: hidden;
            top: 0.5em;
            right: 0;
            width: 5em;
            height: calc(100% - 0.25em);
        }
        
        .switch__lever-shadow:before,
        .switch__lever-shadow:after {
            background-color: hsla(var(--hue),10%,5%,0.25); /* Adjusted */
            content: "";
            left: 1.625em;
            width: 3em;
            height: 50%;
            transition:
                background-color var(--trans-dur) var(--trans-timing),
                transform var(--trans-dur) var(--trans-timing);
        }
        
        .switch__lever-shadow:before {
            border-radius: 1.5em 0 0 0 / 1em 0 0 0;
            transform-origin: 0 100%;
        }
        
        .switch__lever-shadow:after {
            border-radius: 0.25em;
            bottom: 0;
            transform: skewX(-10deg);
            transform-origin: 0 0;
        }
        
        /* `:checked` state - LED turns RED (Unchanged) */
        .switch__input:checked ~ .switch__lever .switch__lever-half-top {
            background-color: var(--switch-bg); /* Adjusted */
            transform: rotateX(35deg);
        }
        
        .switch__input:checked ~ .switch__lever .switch__lever-half-top:before {
            box-shadow:
                0 0 0 0.125em var(--switch-bg-dark) inset,  /* Adjusted */
                0 0.25em 0 var(--switch-bg) inset,      /* Adjusted */
                0 0.125em 0 var(--switch-bg);           /* Adjusted */
        }
        
        .switch__input:checked ~ .switch__lever .switch__lever-half-bottom {
            background-color: var(--switch-bg-light); /* Adjusted */
            transform: rotateX(0);
        }
        
        .switch__input:checked ~ .switch__lever .switch__lever-half-bottom:before {
            background-color: hsl(var(--hue2),90%,45%);  /* RED LED */
            box-shadow:
                0 0.125em 0 hsl(var(--hue2),90%,20%) inset,
                0 -0.0625em 0 var(--switch-bg-light) inset, /* Adjusted */
                0 0 0.5em hsla(var(--hue2),90%,45%,1);    /* RED GLOW */
        }
        
        .switch__input:checked ~ .switch__lever-shadow:before {
            transform: rotate(-10deg);
        }
        
        .switch__input:checked ~ .switch__lever-shadow:after {
            transform: skewX(0) scaleY(0.85);
        }

        /* Main Content Wrapper - FIXED FOR Z-DEPTH ANIMATION */
        .main-content {
            position: fixed; /* CHANGED from relative to fixed for z-depth animation */
            width: 100%;
            height: 100%;
            opacity: 0;
            transform: scale(0.95); /* Start slightly smaller */
            transition: all 1.2s cubic-bezier(0.23, 1, 0.32, 1);
            pointer-events: none;
            overflow-y: auto; /* Allows scrolling on the fixed layer */
            -webkit-overflow-scrolling: touch; /* For smoother iOS scrolling */
        }

        .main-content.visible {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
            /* overflow is now managed by overflow-y: auto */
        }

        /* Animate-in classes for hero content (from prototype) */
        .hero-title, .hero-subtitle, .cta-button, .section-title, .section-content {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        /* Staggered animation for hero content */
        .main-content.visible .hero-title {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.4s; 
        }
        .main-content.visible .hero-subtitle {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.6s;
        }
        .main-content.visible .cta-button {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.8s;
        }
         /* Note: Your own CSS already animates the hero content, 
            so we just need to ensure the wrapper becomes visible */

    </style>
</head>

<body style="background-color: #0a0a0a;">

    <div class="preloader-screen" id="preloaderScreen">
        
        <div class="preloader-header">
            <img src="assets/footer/sf-logo-w.webp" alt="Nairoreel Productions Logo" class="preloader-logo-img">
        </div>
        
        <label class="switch">
            <input class="switch__input" type="checkbox" role="switch" id="powerSwitch">
            <span class="switch__lever-shadow"></span>
            <span class="switch__lever">
                <span class="switch__lever-sides"></span>
                <span class="switch__lever-half-top"></span>
                <span class="switch__lever-half-bottom"></span>
            </span>
            <span class="switch__label">Power</span>
        </label>
        
        <div class="power-text">Illuminate our world</div>
    </div>
    <div class="main-content" id="mainContent">
    
        <nav>
            <div class="nav-container">
                <div class="nav-logo">
                    <a href="index.html">
                        <span>Nairoreel Productions</span>
                        <span>Nairoreel Productions</span>
                    </a>
                </div>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="nav-links">
                    <a href="our-work.html" class="nav-highlight"><span>Our Work</span><span>Our Work</span></a>
                    <a href="us.html"><span>Us</span><span>Us</span></a>
                    <a href="process.html"><span>Process</span><span>Process</span></a>
                    <a href="contact.html"><span>Contact</span><span>Contact</span></a>
                </div>
            </div>
        </nav>

        <header class="hero-section">
            <div class="hero-video-bg">
                <video id="heroVideo" autoplay loop muted playsinline>
                    <source src="assets/home/kfc hero.mp4" type="video/mp4">
                    </video>
                <div class="hero-overlay"></div>
            </div>
            <div class="hero-content">
                <h1 class="hero-title">Visual storytelling for innovative brands</h1>
                <p class="hero-subtitle">Crafting captivating visuals bringing your ideas to life.</p>
                <a href="inquiry.html" class="cta-button">Start a Project</a>
            </div>
        </header>

        <div class="divider"></div>

        <section id="featured-work">
            <h2>Featured Work</h2>
            <div class="featured-grid">
                <a href="projects/nairobi fashion week.html" class="featured-item">
                    <img src="assets/projects/nfw/nfw-thumb.webp" alt="Nairobi Fashion Week">
                    <div class="featured-overlay"></div>
                    <div class="featured-info">
                        <h3 class="featured-title">Nairobi Fashion Week</h3>
                        <p class="featured-desc">Fashion Film Production</p>
                    </div>
                </a>
                
                <a href="projects/kfc.html" class="featured-item">
                    <img src="assets/projects/kfc/KFC-thumb.webp" alt="KFC">
                    <div class="featured-overlay"></div>
                    <div class="featured-info">
                        <h3 class="featured-title">KFC</h3>
                        <p class="featured-desc">3D Animation Campaign</p>
                    </div>
                </a>
                
                <a href="projects/raila-tribute.html" class="featured-item">
                    <img src="assets/projects/raila/raila-thumb.webp" alt="Raila Tribute">
                    <div class="featured-overlay"></div>
                    <div class="featured-info">
                        <h3 class="featured-title">Raila Tribute</h3>
                        <p class="featured-desc">3D Motion Graphics</p>
                    </div>
                </a>
                
                <a href="projects/reload.html" class="featured-item">
                    <img src="assets/projects/reload/reload-thumb.webp" alt="RELOAD">
                    <div class="featured-overlay"></div>
                    <div class="featured-info">
                        <h3 class="featured-title">RELOAD</h3>
                        <p class="featured-desc">Brand Visual Identity</p>
                    </div>
                </a>
                
                <a href="#" class="featured-item">
                    <img src="assets/projects/placeholder1.jpg" alt="Coming Soon">
                    <div class="featured-overlay"></div>
                    <div class="featured-info">
                        <h3 class="featured-title">Coming Soon</h3>
                        <p class="featured-desc">New Project</p>
                    </div>
                </a>
                
                <a href="#" class="featured-item">
                    <img src="assets/projects/placeholder2.jpg" alt="Coming Soon">
                    <div class="featured-overlay"></div>
                    <div class="featured-info">
                        <h3 class="featured-title">Coming Soon</h3>
                        <p class="featured-desc">New Project</p>
                    </div>
                </a>
            </div>
        </section>

        <div class="divider"></div>

        <section id="services">
            <h2>What We Do</h2>
            <div class="bento-grid">
                <a href="our-work.html#film" class="bento-item">
                    <h3 class="bento-title">Film Making</h3>
                    <p class="bento-desc">Cinematic storytelling that transforms viewers into customers.</p>
                </a>
                <a href="our-work.html#animation" class="bento-item">
                    <h3 class="bento-title">3D Animation</h3>
                    <p class="bento-desc">Dynamic visuals that bring ideas to life.</p>
                </a>
                <a href="our-work.html#photography" class="bento-item">
                    <h3 class="bento-title">Photography</h3>
                    <p class="bento-desc">Stunning images that capture your brand essence.</p>
                </a>
            </div>

            <div class="divider"></div>
        
    <div class="pricing-info">
        <h1><strong>Let's talk pricing:</strong></h1> 
        <p class="pricing-text">Custom quotes based on project scope — reach out for a tailored proposal at <a href="mailto:nairoreelproductions@gmail.com">nairoreelproductions@gmail.com</a> or you could fill out the inquiry form below.</p>
        <a href="../inquiry.html" class="cta-button">Inquire</a>
    </div>

        </section>

    <div class="divider"></div>

        <footer>
            <div class="footer-grid">
                <div class="footer-col">
                    <img src="assets/footer/sf-logo-w.webp" alt="Nairoreel Productions Logo" class="footer-logo">
                </div>
                <div class="footer-col">
                    <h3>Services</h3>
                    <ul>
                        <li><a href="our-work.html#film">Film Making</a></li>
                        <li><a href="our-work.html#3d">3D Animation</a></li>
                        <li><a href="our-work.html#photography">Photography</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Pages</h3>
                    <ul>
                        <li><a href="our-work.html">Our Work</a></li>
                        <li><a href="us.html">Us</a></li>
                        <li><a href="process.html">Process</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Connect</h3>
                    <ul class="social-icons">
                        <li><a href="mailto:nairoreelproductions@gmail.com" aria-label="Email"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20" fill="currentColor"><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg></a></li>
                        <li><a href="https://instagram.com/nairoreel.productions" target="_blank" aria-label="Instagram"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="20" height="20" fill="currentColor"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg></a></li>
                        <li><a href="#" target="_blank" aria-label="Facebook"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" width="20" height="20" fill="currentColor"><path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"/></svg></a></li>
                        <li><a href="#" target="_blank" aria-label="TikTok"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="20" height="20" fill="currentColor"><path d="M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"/></svg></a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                © 2025 Nairoreel Productions. All rights reserved.
            </div>
        </footer>

    </div> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    
    <script src="js/main.js"></script>

    <script>
        // Get references to the DOM elements
        const powerSwitch = document.getElementById('powerSwitch');
        const preloaderScreen = document.getElementById('preloaderScreen');
        const mainContent = document.getElementById('mainContent');
        const heroVideo = document.getElementById('heroVideo'); // Get the video

        let assetsReady = false;

        // Check if video is already loaded (e.g., from cache)
        // readyState 4 means 'HAVE_ENOUGH_DATA'
        if (heroVideo.readyState >= 4) {
            assetsReady = true;
        } else {
            // Listen for the 'canplaythrough' event
            heroVideo.addEventListener('canplaythrough', () => {
                assetsReady = true;
            }, { once: true }); // Use { once: true } to remove listener after firing
        }

        // Handle switch activation
        powerSwitch.addEventListener('change', function() {
            if (this.checked) {
                // Small delay to let the switch animation complete
                setTimeout(() => {
                    // Check if assets are ready
                    if (assetsReady) {
                        transitionToMain();
                    } else {
                        // If assets aren't ready, wait for them.
                        // The 'canplaythrough' listener above will set assetsReady = true
                        const checkInterval = setInterval(() => {
                            if (assetsReady) {
                                clearInterval(checkInterval);
                                transitionToMain();
                            }
                        }, 100); // Check every 100ms
                    }
                }, 600); // Let switch animation play
            }
        });

        function transitionToMain() {
            // Fade out preloader
            preloaderScreen.classList.add('hidden');
            
            // Show main content after a pause
            setTimeout(() => {
                mainContent.classList.add('visible');
            }, 1200); // 1.2s delay for a smoother feel
            
            // Remove preloader from DOM after transition
            setTimeout(() => {
                preloaderScreen.style.display = 'none';
            }, 2400); // 1.2s delay + 1.2s content transition
        }
    </script>
</body>
</html>